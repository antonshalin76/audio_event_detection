# Портфолио: аналитик данных

## Исходная задача

Вам необходимо использовать доступные инструменты и библиотеки для обработки аудио и распознавания звуковых шаблонов.

1. Доступ к аудиодорожкам, расположенным на Яндекс Диске https://disk.yandex.ru/d/N8Xto6pu8nf62A

2. Используя инструменты и библиотеки, проведите анализ аудиодорожек и выявите звуковые события.

3. Для обработки аудио и распознавания звуковых шаблонов, вы можете использовать любой доступный продукт или библиотеку, включая ресурсы Google.
Можете использовать эти репозитории https://github.com/fschmid56/efficientat, (https://github.com/fschmid56/efficientat) https://github.com/microsoft/unilm/tree/master/beats или любые на свой выбор

4. Модель  нужно докеризовать/написать k8s чарт

5. Создайте простой отчет, включающий:
• Описание методологии, инструментов, репозиториев,  которые вы использовали для анализа и распознавания звуковых событий.
• Список обнаруженных звуковых событий и соответствующие временные метки (время начала и окончания событий).
• Любые обнаруженные аномалии или трудности в распознавании.

6. Оформите ваш код и инструкции таким образом, чтобы другой специалист мог воспроизвести вашу работу на другом наборе данных.

7. Как сервис, который вы написали, можно разбить на отдельные микросервисы, чтобы была возможность отдельно улучшать каждую из составляющих?

8. Покажите примеры на гитхабе, где вы разрабатывали собственные библиотеки. Если все разработки под нда, то распишите как вы организуете модули.
<br>

## Общий план

1. Изучить исходные данные, определить их свойства и характерные особенности. Выбрать пути решения задачи детекции аудиособытий. Оценка срока - 1 день.

2. Проверка выбранных путей решения на нескольких файлах. Кодирование прототипов и финального решения. Оценка срока - 2 дня.

3. Тестирование, подбор параметров, определение возможных путей улучшения работы алгоритма. Составление документации. Оценка срока - 1 день.

P.S. Работа выполнена по плану.

## Методология и инструменты

- Для предобработки аудио использовались библиотеки Librosa и Pydub для конвертации (MP3 в WAV и далее в тензоры), фильтрации шума и нормализации аудиодорожек.

- Обработка звуковых событий путем определения временных границ каждого звукового события на основе порога вероятности, предоставленной моделью YAMNet.
  
- Фильтрация шума: использовались преэмфазный шумоподавитель, адаптивная фильтрация и вейвлет-шумоподавление для улучшения качества аудиосигнала перед классификацией.

- Для детекции звуковых событий использовалась предобученная модель YAMNet, которая предназначена для классификации звуковых событий бытового характера в аудиодорожках.

- Визуализация: использовалась библиотека Matplotlib для создания мел-спектрограмм.

## Обнаруженные особенности во входных данных
- Низкий уровень сигнала.

- Значительная зашумленность. При этом шум довольно простого характера типа белого/розового.

- Редкие события на фоне продолжительных пауз и/или фоновых событий (например, работы телевизора).

- Наложение нескольких событий одно на другое. При этом наложенные события могут как значительно отличаться, так и быть близкими по уровню сигнала.

## Организация кода и воспроизводимость
Код организован таким образом, чтобы обеспечить легкую воспроизводимость работы на другом наборе данных:

- Параметризация: Все ключевые параметры (пороги, пути к файлам, настройки фильтрации) легко изменить для работы с другими данными.

- Модульность: Код разделен на функции для предобработки, обработки и визуализации, что облегчает его адаптацию и масштабирование.

- Документирование: Каждая функция снабжена комментариями, объясняющими её назначение и работу.

- Сохранение результатов: Результаты анализа сохраняются в CSV-файлы для каждого аудиофайла, что упрощает последующий анализ.

## Разбиение на микросервисы
Сервис можно разделить на следующие микросервисы:

- Сервис предобработки: Отвечает за конвертацию аудиофайлов, фильтрацию шума и нормализацию.

Можно развивать в сторону подбора фильтров и их параметров.
Выполнить отдельной подзадачей постороение отдельной нейросети, решаюшей задачу очистки от шумов адаптированно к нашему набору аудиоданных.

- Сервис анализа аудио: Использует предобученную на большом AudioSet модель YAMNet для определения и классификации звуковых событий бытового характера.

Можно развивать в сторону создания надстройки к ней своей нейросети и дообучения ее на своем размеченном датасете.

- Сервис визуализации: Генерирует мел-спектрограммы и другие визуализации для анализа аудио.

- Сервис хранения и отчетности: Управляет сохранением результатов в формате CSV и обеспечивает доступ к отчетам.

## Текущие упрощения и пути развития
- В коде реализована детекция одного звукового события на каждый временной шаг (0,48 с) с наибольшей вероятностью по мнению модели YamNet.

Очевидно, что в каждый момент времени могут существовать несколько событий и они будут обнаружены с разной вероятностью. Код можно доработать в сторону мультидетекции.

- В проекте задействован функционал только преобученной сети YamNet.

Очевидно, что события в предлагаемых файлах могут не сответствовать классификации этой сети.
Поэтому для повышения точности и достоверности работы детектора требуется дообучение этой сети надстроенной нейросетью с использованием собственного размеченного датасета.

## Проекты

### Проект Excel. Юнит-экономика онлайн-кинотеатра
<p>Что нужно было сделать:<p>
<ol>
  <li>Задача №1. Провести анализ поведения клиентской базы в предложенной бизнес-модели кинотеатра. Как есть.</li>
  <li>Задача №2. Определить наиболее влияющие факторы на снижение эффективности бизнес модели, а также предложить наиболее эффективные корректировки. </li>
  <li>Задача №3. Сформировать юнит-калькулятор с заполненными значениями изменений ключевых метрик для достижения целевой маржинальности. </li>
</ol>

<p>Сделал (в наглядном виде представлены):<p>
<ol>
  <li>Динамика количества абонентов. Определен момент прекращения работы используемой бизнес-модели.</li>
  <li>Динамика просмотров (общая активность абонентов). Определен момент начала сокращения просмотров, выдвинута гипотеза причин сокращения и варант решения проблемы.</li>
  <li>Проанализирована динамика первых просмотров. Отмечен эффект отсутствия реального пользования сервисом после подключения к нему.</li>
  <li>Проанализирована контент на предмет его потребления по абонентам и географии. Определены пути его оптимизации.</li>
  <li>На основе анализа возвращаемости клиентов к сервису выдвинуты гипотезы по качеству контента и тарифной политики сервиса. Предложены корректировки по ним.</li>
  <li>Собран юнит-калькулятор с указанием ключевых метрик, требующих корректировки и значения по величине этих коррекций. Их исполнение приведет к исправлению маржинальности сервиса с текущих -93% до прибыльных +25%.</li>
</ol>

> <a href="https://docs.google.com/spreadsheets/d/19AqnMj7gazDpz2fDCO7V0sS4-jmAUflb/edit?usp=sharing&ouid=109947812492977975303&rtpof=true&sd=true">Юнит-экономика онлайн-кинотеатра</a>
  
### Проект SQL. Моделирование изменения балансов студентов онлайн-школы
<p>Что нужно было сделать:<p>
<ol>
  <li>Задача №1. Собрать балансы каждого ученика на каждый прожитый им день с оплатами, уроками и текущим балансом.</li>
  <li>Задача №2. Собрать суммарные балансы каждого ученика за все время с оплатами, уроками и остатком баланса. Составить сводную таблицу с агрегацией по ученику.</li>
  <li>Задача №3. Собрать суммарные балансы всех учеников на каждый день с оплатами, уроками и остатком баланса. Составить сводную таблицу с агрегацией по дате.</li>
</ol>

<p>Сделал:<p>
<ol>
  <li>Составлены 4 CTE подзапроса, которые использовались далее в 3 основных SQL запросах, решающих Задачи №1-3.</li>
  <li>На выходе одна общая таблица и две вспомогательные в качестве сводных, на основе общей. Выгружены в excel и построены графики.</li>
  <li>Для владельца составлен перечень вопросов по исходным данным и по результатам выгрузок.</li>
</ol>

>  <li><a href="https://metabase.sky.pro/question/60320">SQL проект</a></li>
>  <li><a href="https://docs.google.com/spreadsheets/d/1yDMmCL4hErtDarPjAfTm12ksG2RfomDn/edit?usp=sharing&ouid=109947812492977975303&rtpof=true&sd=true">Полные балансы</a></li>
>  <li><a href="https://docs.google.com/spreadsheets/d/1N_doKM92E8gvRkYH9-KIh60Q65d4STgT/edit?usp=share_link&ouid=109947812492977975303&rtpof=true&sd=true">Балансы учеников</a></li>
>  <li><a href="https://docs.google.com/spreadsheets/d/15Xebxu7B3vLaH62THajXehQ_3lt8loWw/edit?usp=share_link&ouid=109947812492977975303&rtpof=true&sd=true">Балансы по датам</a></li>
>  <li><a href="https://docs.google.com/document/d/1T-NKfbX0ZBrguZF-ughp-DFOA0lREWWi/edit?usp=share_link&ouid=109947812492977975303&rtpof=true&sd=true">Вопросы по данным</a></li>

### Проект Phyton. Анализ А/Б теста. 
<p>Что нужно было сделать:
Провести исследование альтернативного метода воздействия на клиентские покупки с помощью пуш-уведомлений.<p>
<ol>  
  <li>Задача №1. Очистить исходные данные с учетом условий дизайна эксперимента. Построить таблицу, которая будет в удобной форме хранить результаты АБ Теста.</li>
  <li>Задача №2. Вычислить статистические критерии тестирования с учетом запрошенных таргет-метрик. Провести необходимые сегментации. Разложить выходные данные по трем исходам теста: положительный, отрицательный, нейтральный. Выгрузить в Excel</li>
  <li>Задача №3. На основании созданного Excel файла построить калькулятор для обработки каждого из исходов в виде подсчета потенциальных дополнительных выгоды/убытков от введения новой системы уведомлений, а также вычисление необходимого числа наблюдений для тех объектов, где итоговых данных было недостаточно для обоснованного отнесения их результата в ту или иную сторону.</li>
</ol>

<p>Сделал:<p>
<ol>
  <li>Написан скрипт на Phyton для решения задач №1 и №2, сделана визуализация распределения разницы от изменения вида уведомления по средним платежам с сегментацией по городам</li>
  <li>На выходе одна общая таблица и две вспомогательные в качестве сводных, на основе общей. Выгружены в excel и построены графики.</li>
  <li>Во всех трех таблицах на каждом листе размещен свой калькулятор, согласно требуемого от каждого из них функционала.</li>
</ol>

>  <li><a href="https://drive.google.com/drive/folders/10G03m2UBBeW8-P8nYxvuw_0Lhqch8a-x?usp=sharing">Phyton проект</a></li>
 
## Контактная информация
- Email: anton.shalin@gmail.com
- Tel: +79025666002
- Telegram: https://t.me/anton_shalin
